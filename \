using System;

class Program
{
    static void Main()
    {
        // string filePath = "./puzzle-input.txt";
        string filePath = "./example-puzzle-input.txt";
        string[] lines = Array.Empty<string>();

        if (File.Exists(filePath))
        {
            lines = File.ReadAllLines(filePath);
        }
        else
        {
            Console.WriteLine("File not found");
        }

        BatteryScanner batteryScanner = new BatteryScanner();
        Log log = new Log();


        foreach (string line in lines)
        {
            string sequence = batteryScanner.CheckMaximumJoltage(line);
            log.AddSequenceString(sequence);
        }

        log.PrintOutSequenceList();
    }
}

class BatteryScanner
{

    public string CheckMaximumJoltage(string inputString)
    {
        string concatString = "";
        int[] allValues = inputString
          .Select(c => int.Parse(c.ToString()))
          .ToArray();
        for (int i = 0; i < allValues.Length; i++)
        {
            if (i < (allValues.Length - 1) && allValues[i] > allValues[i + 1])
            {
                // concatString.Concat(allValues[i].ToString());
                concatString += allValues[i].ToString();
            }
            else if (i == (allValues.Length -1) && allValues[i] > allValues[i - 1])
            {
              Console.WriteLine("last char");
                concatString += allValues[i].ToString();
            }

        }
        return concatString;
    }
}

class Log
{
    private List<string> sequenceList = new List<string>();


    public void AddSequenceString(string inputString)
    {
        sequenceList.Add(inputString);
    }

    public void PrintOutSequenceList()
    {
        foreach (string sequence in this.sequenceList)
        {
            Console.WriteLine(sequence);
        }
    }
}
